import{b as Q}from"./chunk-D2H6I3QA.js";import"./chunk-RUVNAOVV.js";import{a as K}from"./chunk-2SAUJIYL.js";import{g as M,j as W,n as Y}from"./chunk-YATRG2RC.js";import"./chunk-HEU4WAFH.js";import"./chunk-UL67DKGA.js";import{j as _,x as O}from"./chunk-E6TKU66B.js";import{a as q,c as J}from"./chunk-TJSGGWVD.js";import"./chunk-MSGP6OJQ.js";import{a as U}from"./chunk-4I3MVLZY.js";import{m as N}from"./chunk-J7ILPO5N.js";import{$ as C,Bb as R,Cb as z,Db as n,Eb as t,F as H,Fb as u,H as k,Jb as D,Mb as A,Ob as y,R as B,T as f,U as F,Yb as r,_a as p,dc as v,fa as c,hc as V,i as d,ic as G,ja as h,o as E,pb as $,ta as j,tb as g,u as s,ua as T,v as w,yb as L,zb as I}from"./chunk-273GLWW4.js";var P=(()=>{class e{constructor(){this.currentValue$=new d}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ee(e,x){if(e&1){let o=D();n(0,"nav",4)(1,"ul")(2,"li")(3,"a",5),r(4,"Cartelera"),t()(),n(5,"li")(6,"a",6),r(7,"Promociones"),t()(),n(8,"li")(9,"a",7),r(10,"Compra Boletos"),t()(),n(11,"li")(12,"a",8),r(13,"Contacto"),t()()()(),n(14,"div",9)(15,"button",10),r(16," Menu "),t(),n(17,"button",11),A("click",function(){j(o);let m=y();return T(m.authService.logout())}),r(18,"Cerrar Sesion"),t()()}if(e&2){let o=y();p(15),g("routerLink",o.authService.isAdministrator()?"/admin":"/customer")}}function te(e,x){e&1&&(n(0,"nav",4)(1,"ul")(2,"li")(3,"a",5),r(4,"Cartelera"),t()(),n(5,"li")(6,"a",6),r(7,"Promociones"),t()(),n(8,"li")(9,"a",7),r(10,"Compra Boletos"),t()(),n(11,"li")(12,"a",8),r(13,"Contacto"),t()()()(),n(14,"div",9)(15,"button",12),r(16,"INGRESAR "),t(),n(17,"button",13),r(18,"REG\xCDSTRATE"),t()())}var X=(()=>{class e{constructor(){this.searchBarFormControl=new _(""),this.searchBarService=c(P),this.authService=c(Y),this.searchBarService.currentValue$=this.searchBarFormControl.valueChanges.pipe(s(o=>o||""),k(300),f(""))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=h({type:e,selectors:[["app-header"]],standalone:!0,features:[v],decls:7,vars:1,consts:[[1,"header"],[1,"container"],[1,"logo-login"],["href","#"],[1,"nav"],["href","#cartelera"],["href","#promociones"],["href","#compra"],["href","#contacto"],[1,"button-container"],["mat-button","",1,"primary",3,"routerLink"],["mat-button","",1,"secondary",3,"click"],["mat-button","","routerLink","../login",1,"primary"],["mat-button","","routerLink","../Register",1,"secondary"]],template:function(i,m){i&1&&(n(0,"header",0)(1,"div",1)(2,"div",2)(3,"a",3),r(4,"CineMax"),t()(),$(5,ee,19,1)(6,te,19,0),t()()),i&2&&(p(5),L(m.authService.loggedIn()?5:6))},dependencies:[J,q,M,O],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.header[_ngcontent-%COMP%]{line-height:1.6;display:flex;justify-content:space-between;align-items:center;background:#333;color:#fff;padding:28px;letter-spacing:-.1px}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;justify-items:center;width:90%;margin:0 auto}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{position:relative;top:-10px;right:20px;display:flex;align-items:center;gap:5px}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.primary, .secondary)[_ngcontent-%COMP%]{color:var(--accent-color)}.header[_ngcontent-%COMP%]   .logo-login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--primary-color);text-decoration:none;font-weight:700;position:absolute;top:15px;left:155px}.header[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;display:flex;justify-content:center;position:relative;flex-wrap:wrap;align-content:center;top:26px;left:84px;gap:1.5rem}.header[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none;font-size:1rem;transition:color .3s}.header[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--accent-color)}"]})}}return e})();var Z=(()=>{class e{constructor(){this.url=W.baseUrl+"/api/Home",this.http=c(U)}getData(){return this.http.get(this.url).pipe(H(o=>(console.log("Error encontrado!"),console.log("Codigo de error: "+o.status),E)))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ne(e,x){if(e&1&&u(0,"app-event-card",9),e&2){let o=x.$implicit;g("data",o)("routerLink","/event-detail/"+o.id)}}var Fe=(()=>{class e{constructor(){this.genres$=new d,this.filteredMovies$=new d,this.homeService=c(Z),this.searchBarService=c(P),this.currentGenre=new _(0)}ngOnInit(){let o=this.homeService.getData().pipe(B(1));this.genres$=o.pipe(s(a=>a.genres.filter(l=>l.status)));let i=o.pipe(s(a=>a.movies)),m=this.currentGenre.valueChanges.pipe(f(0),F(a=>i.pipe(s(l=>a===0?l:l.filter(b=>b.genreId===a)))));this.filteredMovies$=w([m,this.searchBarService.currentValue$]).pipe(s(([a,l])=>a.filter(b=>l===""?!0:b.description.toLowerCase().includes(l.toLowerCase()))))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=h({type:e,selectors:[["app-home"]],standalone:!0,features:[v],decls:21,vars:3,consts:[[1,"home-container"],[1,"content-container"],[1,"Hero"],["autoplay","","loop","",1,"hero-video",3,"muted"],["src","Videos/Capit\xE1n Am\xE9rica Un Nuevo Mundo  Tr\xE1iler Oficial  Doblado.mp4","type","video/mp4"],[1,"hero-content"],["href","#cartelera",1,"btn"],[1,"cartelera"],[1,"event-list"],[3,"data","routerLink"]],template:function(i,m){i&1&&(n(0,"div",0),u(1,"app-header"),n(2,"div",1)(3,"section",2)(4,"video",3),u(5,"source",4),t(),n(6,"div",5)(7,"h1"),r(8,"Bienvenido a CineMax"),t(),n(9,"p"),r(10,"Descubre los \xFAltimos estrenos y vive la experiencia del cine como nunca antes."),t(),n(11,"a",6),r(12,"Ver Cartelera"),t()()(),n(13,"div",7)(14,"h2"),r(15,"Cartelera"),t()(),n(16,"section",8),R(17,ne,1,2,"app-event-card",9,I),V(19,"async"),t()(),u(20,"app-footer"),t()),i&2&&(p(4),g("muted",!0),p(13),z(G(19,1,m.filteredMovies$)))},dependencies:[X,K,Q,N,M,O],styles:[".home-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .Hero[_ngcontent-%COMP%]{position:relative;height:70vh;display:flex;align-items:center;justify-content:center;text-align:center;color:#fff;overflow:hidden}.home-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .Hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.home-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .Hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1.5rem}.home-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .Hero[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:#f4a261;color:#fff;padding:.7rem 1.5rem;border:none;text-decoration:none;font-size:1rem;border-radius:5px;transition:background .3s}.home-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .Hero[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background:#e76f51}.home-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .Hero[_ngcontent-%COMP%]   .hero-video[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:-1}.home-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .Hero[_ngcontent-%COMP%]   hero-content[_ngcontent-%COMP%]{position:relative;z-index:1}.home-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .cartelera[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;font-size:2rem;color:#333}.home-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .event-list[_ngcontent-%COMP%]{width:90%;display:flex;max-width:1200px;margin:0 auto;gap:1.5rem;flex-wrap:wrap;justify-content:center}"]})}}return e})();export{Fe as HomeComponent};
