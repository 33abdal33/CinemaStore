import{a as T}from"./chunk-RUVNAOVV.js";import{a as A}from"./chunk-2SAUJIYL.js";import{f as M,g as x,k as O,n as P}from"./chunk-YATRG2RC.js";import{b as I,k as R}from"./chunk-UL67DKGA.js";import{b as v,d as m,f as y,g as F,h as S,j as C,l as w,n as E,o as k,p as L,u as q,x as N}from"./chunk-E6TKU66B.js";import"./chunk-MSGP6OJQ.js";import"./chunk-4I3MVLZY.js";import"./chunk-J7ILPO5N.js";import{Db as e,Eb as i,Fb as c,Mb as _,Yb as o,_a as r,dc as h,fa as g,ja as b,pb as f,tb as p,yb as l}from"./chunk-273GLWW4.js";function D(n,u){n&1&&(e(0,"mat-error"),o(1,"Ingresa un email v\xE1lido"),i())}function G(n,u){n&1&&(e(0,"mat-error"),o(1,"Email es "),e(2,"strong"),o(3,"requerido"),i()())}function V(n,u){n&1&&(e(0,"mat-error",5),o(1,"Contrase\xF1a debe tener al menos 8 d\xEDgitos"),i())}function j(n,u){n&1&&(e(0,"mat-error"),o(1,"Contrase\xF1a es "),e(2,"strong"),o(3,"requerida"),i()())}var tt=(()=>{class n{constructor(){this.loginForm=new S({email:new C("",[m.required,m.email]),password:new C("",[m.required,m.minLength(8)])}),this.authService=g(P),this.router=g(M),this.notifications=g(O)}login(){let d=this.loginForm.controls.email.value,a=this.loginForm.controls.password.value;this.authService.login(d,a).subscribe(t=>{if(t&&t.success){localStorage.setItem("token",t.data.token),this.authService.loggedIn.set(!0),this.notifications.success("Login Exitoso","Bienvenido a CineMax");let s=d==="admin@gmail.com";this.authService.isAdministrator.set(s),localStorage.setItem("isAdministrator",s.toString()),this.router.navigate([s?"/admin":"/customer"])}else this.notifications.warn("Login Fallido","Revisa tus credenciales")})}static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275cmp=b({type:n,selectors:[["app-login"]],standalone:!0,features:[h],decls:23,vars:7,consts:[[1,"main-container"],[1,"container"],[3,"formGroup"],["type","email","formControlName","email","placeholder","Tu correo electr\xF3nico","required",""],["type","password","required","",3,"formControl"],[1,"min-length-error"],[1,"btn",3,"click","disabled"],["routerLink","/forgot-password"]],template:function(a,t){a&1&&(e(0,"div",0),c(1,"app-simple-header"),e(2,"body")(3,"div",1)(4,"h2"),o(5,"Inicio de Sesion"),i(),e(6,"form",2)(7,"label"),o(8,"Email"),i(),c(9,"input",3),f(10,D,2,0,"mat-error")(11,G,4,0,"mat-error"),e(12,"label"),o(13,"Password"),i(),c(14,"input",4),f(15,V,2,0,"mat-error",5)(16,j,4,0,"mat-error"),e(17,"button",6),_("click",function(){return t.login()}),o(18,"INGRESAR"),i()(),e(19,"p")(20,"a",7),o(21,"Olvidaste tu contrase\xF1a?"),i()()()(),c(22,"app-footer"),i()),a&2&&(r(6),p("formGroup",t.loginForm),r(4),l(t.loginForm.controls.email.hasError("email")&&!t.loginForm.controls.email.hasError("required")?10:-1),r(),l(t.loginForm.controls.email.hasError("required")?11:-1),r(3),p("formControl",t.loginForm.controls.password),r(),l(t.loginForm.controls.password.hasError("minlength")&&!t.loginForm.controls.password.hasError("required")?15:-1),r(),l(t.loginForm.controls.password.hasError("required")?16:-1),r(),p("disabled",t.loginForm.invalid))},dependencies:[T,A,N,w,v,y,F,q,E,k,L,x,R,I],styles:[".main-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:column;height:100%}body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-size:cover;background-position:center;background-repeat:no-repeat;font-family:Arial,sans-serif}body[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{background-color:#2d2d2d;padding:20px;border-radius:12px;box-shadow:0 0 10px #00000080;text-align:center;width:300px}body[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ff9800;margin-bottom:20px}body[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#bbb;display:block;text-align:left;margin-bottom:5px}body[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{width:calc(100% - 20px);padding:10px;margin-bottom:15px;border:none;border-radius:5px;background-color:#444;color:#fff}body[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ff9800;text-decoration:none;font-weight:700}body[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% - 20px);padding:10px;margin-bottom:15px;border:none;border-radius:5px;background-color:#444;color:#fff}body[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#fff;color:#007bff;font-weight:700;border:none;border-radius:5px;cursor:pointer}body[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}body[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#bbb;margin-top:10px}body[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ff4081;text-decoration:none;font-weight:700}body[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}}return n})();export{tt as LoginComponent};
